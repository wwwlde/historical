;------------------------------------------------;
; Программа для выполнения нескольких математических операций
;------------------------------------------------;
; Описание программы:
;   1. A = 2B1 + 3L
;   2. C = 2A + B1 + L
;   3. C1 = (A + B1) * 3 - 100
; Где B1 = 15, L = 21
;------------------------------------------------;
; Автор: Денис Лемешко (Z26114)
; Группа: 261
;------------------------------------------------;

stk segment 'stack'  ; Сегмент стека
  dw 64 dup(?)       ; 64 байта для стека
stk ends

dat segment 'data'   ; Сегмент данных
  b1 db 15           ; Значение B1 = 15
  l  db 21           ; Значение L = 21
  a  db ?            ; Переменная для A
  c  db ?            ; Переменная для C
  c1 dw ?            ; Переменная для C1 (тип word)
dat ends

cd segment 'code'    ; Сегмент кода
  assume cs:cd, ds:dat, ss:stk

begin:
  mov ax, dat         ; Загрузка адреса сегмента данных в регистр ax
  mov ds, ax          ; Устанавливаем сегмент данных

; Вычисление A = 2 * B1 + 3 * L
  mov al, 2           ; al <- 2
  mov bl, b1          ; bl <- B1 = 15
  imul bl             ; ax = 2 * B1 = 30
  mov cl, al          ; сохраняем 2 * B1 в cl
  mov al, 3           ; al <- 3
  mov bl, l           ; bl <- L = 21
  imul bl             ; ax = 3 * L = 63
  add cl, al          ; 2 * B1 + 3 * L = 30 + 63 = 93
  mov a, cl           ; a = 93

; Вычисление C = 2 * A + B1 + L
  mov al, 2           ; al <- 2
  mov bl, a           ; bl <- A = 93
  imul bl             ; ax = 2 * A = 186
  add al, b1          ; ax + B1 = 186 + 15 = 201
  add al, l           ; ax + L = 201 + 21 = 222
  mov c, al           ; c = 222

; Вычисление C1 = (A + B1) * 3 - 100
  cbw                 ; Расширяем байт в слово
  mov bl, a           ; bl <- A = 93
  add bl, b1          ; bl + B1 = 93 + 15 = 108
  mov al, 3           ; al <- 3
  imul bl             ; ax = (A + B1) * 3 = 108 * 3 = 324
  sub ax, 100         ; ax - 100 = 324 - 100 = 224
  mov c1, ax          ; c1 = 224

; Завершение программы
  mov ah, 4Ch         ; Завершаем программу
  int 21h             ; Прерывание для завершения

cd ends
end begin
